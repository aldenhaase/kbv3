cmake_minimum_required(VERSION 3.13.1)


set(BOARD_ROOT $ENV{ENVR_ROOT}/app)
set(DTS_ROOT $ENV{ENVR_ROOT}/app)

find_package(Zephyr $ENV{PROJECT_ZEPHYR_VERSION} EXACT REQUIRED HINTS $ENV{ZEPHYR_BASE})

project(app)

add_subdirectory(app)

target_include_directories(app PRIVATE ${CMAKE_SOURCE_DIR}/app/boards/common)


# Add stricter warnings
# Note that this applies to the library AND application source - do not enable warnings
# that will be generated by library source
target_compile_options(app
    PRIVATE
    -Wall  # default

    # -Wextra  # but disable some noisy ones that will generate warnings in library source
    -Wno-unused-parameter
    -Wno-sign-compare
    -Wno-missing-braces
    -Wdouble-promotion  # detect potential use of software-doubles instead of hardware-floats
)
